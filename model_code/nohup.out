/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
WARNING:tensorflow:From /root/icpc/icpc/translate/rnn.py:107: The name tf.nn.rnn_cell.RNNCell is deprecated. Please use tf.compat.v1.nn.rnn_cell.RNNCell instead.

WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:30: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

12/04 14:32:17 label: default
12/04 14:32:17 description:
  default configuration
  next line of description
  last line
12/04 14:32:17 /root/icpc/icpc/translate/__main__.py config/Hybird/config.yaml --train -v
12/04 14:32:17 commit hash 74e0554cb3eb5df835cef993ad570ff8de651f71
12/04 14:32:17 tensorflow version: 1.14.0
12/04 14:32:17 program arguments
12/04 14:32:17   aggregation_method   'sum'
12/04 14:32:17   align_encoder_id     0
12/04 14:32:17   allow_growth         True
12/04 14:32:17   attention_type       'global'
12/04 14:32:17   attn_filter_length   0
12/04 14:32:17   attn_filters         0
12/04 14:32:17   attn_prev_word       False
12/04 14:32:17   attn_size            128
12/04 14:32:17   attn_temperature     1.0
12/04 14:32:17   attn_window_size     0
12/04 14:32:17   average              False
12/04 14:32:17   baseline_activation  None
12/04 14:32:17   baseline_learning_rate 0.001
12/04 14:32:17   baseline_optimizer   'adam'
12/04 14:32:17   baseline_steps       0
12/04 14:32:17   batch_mode           'standard'
12/04 14:32:17   batch_size           64
12/04 14:32:17   beam_size            5
12/04 14:32:17   bidir                True
12/04 14:32:17   bidir_projection     False
12/04 14:32:17   binary               False
12/04 14:32:17   cell_size            256
12/04 14:32:17   cell_type            'GRU'
12/04 14:32:17   character_level      False
12/04 14:32:17   checkpoints          []
12/04 14:32:17   conditional_rnn      False
12/04 14:32:17   config               'config/Hybird/config.yaml'
12/04 14:32:17   convolutions         None
12/04 14:32:17   data_dir             'data/codenn'
12/04 14:32:17   debug                False
12/04 14:32:17   decay_after_n_epoch  1
12/04 14:32:17   decay_every_n_epoch  1
12/04 14:32:17   decay_if_no_progress None
12/04 14:32:17   decoders             [{'max_len': 30, 'name': 'nl'}]
12/04 14:32:17   description          'default configuration\nnext line of description\nlast line\n'
12/04 14:32:17   dev_prefix           'test'
12/04 14:32:17   early_stopping       True
12/04 14:32:17   embedding_dropout    0.0
12/04 14:32:17   embedding_initializer None
12/04 14:32:17   embedding_size       256
12/04 14:32:17   embedding_weight_scale None
12/04 14:32:17   embeddings_on_cpu    True
12/04 14:32:17   encoders             [{'attention_type': 'global', 'max_len': 200, 'name': 'code'}]
12/04 14:32:17   ensemble             False
12/04 14:32:17   eval_burn_in         0
12/04 14:32:17   feed_previous        0.0
12/04 14:32:17   final_state          'last'
12/04 14:32:17   freeze_variables     []
12/04 14:32:17   generate_first       True
12/04 14:32:17   gpu_id               0
12/04 14:32:17   highway_layers       0
12/04 14:32:17   initial_state_dropout 0.0
12/04 14:32:17   initializer          None
12/04 14:32:17   input_layer_dropout  0.0
12/04 14:32:17   input_layers         None
12/04 14:32:17   keep_best            5
12/04 14:32:17   keep_every_n_hours   0
12/04 14:32:17   label                'default'
12/04 14:32:17   layer_norm           False
12/04 14:32:17   layers               1
12/04 14:32:17   learning_rate        0.5
12/04 14:32:17   learning_rate_decay_factor 0.95
12/04 14:32:17   len_normalization    1.0
12/04 14:32:17   log_file             'log.txt'
12/04 14:32:17   loss_function        'xent'
12/04 14:32:17   max_dev_size         0
12/04 14:32:17   max_epochs           100
12/04 14:32:17   max_gradient_norm    5.0
12/04 14:32:17   max_len              50
12/04 14:32:17   max_steps            600000
12/04 14:32:17   max_test_size        0
12/04 14:32:17   max_to_keep          1
12/04 14:32:17   max_train_size       0
12/04 14:32:17   maxout_stride        None
12/04 14:32:17   mem_fraction         1.0
12/04 14:32:17   min_learning_rate    1e-06
12/04 14:32:17   model_dir            'models/hybrid'
12/04 14:32:17   moving_average       None
12/04 14:32:17   no_gpu               False
12/04 14:32:17   optimizer            'sgd'
12/04 14:32:17   orthogonal_init      False
12/04 14:32:17   output               None
12/04 14:32:17   output_dropout       0.0
12/04 14:32:17   parallel_iterations  16
12/04 14:32:17   pervasive_dropout    False
12/04 14:32:17   pooling_avg          True
12/04 14:32:17   post_process_script  None
12/04 14:32:17   pred_deep_layer      False
12/04 14:32:17   pred_edits           False
12/04 14:32:17   pred_embed_proj      True
12/04 14:32:17   pred_maxout_layer    True
12/04 14:32:17   purge                False
12/04 14:32:17   raw_output           False
12/04 14:32:17   read_ahead           1
12/04 14:32:17   reconstruction_attn_weight 0.05
12/04 14:32:17   reconstruction_decoders False
12/04 14:32:17   reconstruction_weight 1.0
12/04 14:32:17   reinforce_after_n_epoch None
12/04 14:32:17   remove_unk           False
12/04 14:32:17   reverse              False
12/04 14:32:17   reverse_input        True
12/04 14:32:17   reward_function      'sentence_bleu'
12/04 14:32:17   rnn_feed_attn        True
12/04 14:32:17   rnn_input_dropout    0.0
12/04 14:32:17   rnn_output_dropout   0.0
12/04 14:32:17   rnn_state_dropout    0.0
12/04 14:32:17   save                 False
12/04 14:32:17   score_function       'corpus_bleu'
12/04 14:32:17   score_functions      ['bleu', 'loss']
12/04 14:32:17   script_dir           'scripts'
12/04 14:32:17   sgd_after_n_epoch    None
12/04 14:32:17   sgd_learning_rate    1.0
12/04 14:32:17   shuffle              True
12/04 14:32:17   softmax_temperature  1.0
12/04 14:32:17   steps_per_checkpoint 2000
12/04 14:32:17   steps_per_eval       2000
12/04 14:32:17   swap_memory          True
12/04 14:32:17   tie_embeddings       False
12/04 14:32:17   time_pooling         None
12/04 14:32:17   train                True
12/04 14:32:17   train_initial_states True
12/04 14:32:17   train_prefix         'train'
12/04 14:32:17   truncate_lines       True
12/04 14:32:17   update_first         False
12/04 14:32:17   use_baseline         False
12/04 14:32:17   use_dropout          False
12/04 14:32:17   use_lstm_full_state  False
12/04 14:32:17   use_previous_word    True
12/04 14:32:17   verbose              True
12/04 14:32:17   vocab_prefix         'vocab'
12/04 14:32:17   weight_scale         None
12/04 14:32:17   word_dropout         0.0
12/04 14:32:17 python random seed: 8093798327516259001
12/04 14:32:17 tf random seed:     233738027979755732
WARNING:tensorflow:From /root/icpc/icpc/translate/__main__.py:203: The name tf.set_random_seed is deprecated. Please use tf.compat.v1.set_random_seed instead.

12/04 14:32:17 creating model
12/04 14:32:17 using device: /gpu:0
WARNING:tensorflow:From /root/icpc/icpc/translate/__main__.py:230: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.

12/04 14:32:17 copying vocab to models/hybrid/data/vocab.code
12/04 14:32:17 copying vocab to models/hybrid/data/vocab.nl
12/04 14:32:17 reading vocabularies
12/04 14:32:18 creating model
WARNING:tensorflow:From /root/icpc/icpc/translate/seq2seq_model.py:60: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

WARNING:tensorflow:From /root/.local/lib/python3.6/site-packages/tensorflow/python/ops/init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:111: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /root/icpc/icpc/translate/rnn.py:33: bidirectional_dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.Bidirectional(keras.layers.RNN(cell))`, which is equivalent to this API
WARNING:tensorflow:From /root/.local/lib/python3.6/site-packages/tensorflow/python/ops/rnn.py:464: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
WARNING:tensorflow:Entity <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f8096a90f98>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f8096a90f98>>: AttributeError: module 'gast' has no attribute 'Num'
WARNING:tensorflow:From /root/icpc/icpc/translate/rnn.py:226: calling Constant.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
WARNING:tensorflow:From /root/.local/lib/python3.6/site-packages/tensorflow/python/ops/rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
WARNING:tensorflow:Entity <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f8096a90c50>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f8096a90c50>>: AttributeError: module 'gast' has no attribute 'Num'
WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:20: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f80956724e0>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f80956724e0>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:838: to_int64 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f80954c3b38>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f80954c3b38>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f80954e86a0>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f80954e86a0>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:432: calling reduce_max_v1 (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:435: calling reduce_sum_v1 (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095392160>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095392160>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095348fd0>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095348fd0>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095359208>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095359208>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095dccac8>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095dccac8>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095dccac8>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f8095dccac8>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:919: multinomial (from tensorflow.python.ops.random_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.random.categorical` instead.
WARNING:tensorflow:Entity <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f8095053208>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f8095053208>>: AttributeError: module 'gast' has no attribute 'Num'
WARNING:tensorflow:From /root/icpc/icpc/translate/beam_search.py:10: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
WARNING:tensorflow:From /root/icpc/icpc/translate/seq2seq_model.py:131: The name tf.train.GradientDescentOptimizer is deprecated. Please use tf.compat.v1.train.GradientDescentOptimizer instead.

WARNING:tensorflow:From /root/icpc/icpc/translate/beam_search.py:223: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.cast` instead.
WARNING:tensorflow:Entity <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f808f697b70>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method GRUCell.call of <translate.rnn.GRUCell object at 0x7f808f697b70>>: AttributeError: module 'gast' has no attribute 'Num'
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f63bcf8>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f63bcf8>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f5e8cc0>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f5e8cc0>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f5e8a20>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f5e8a20>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f564860>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f564860>>: AssertionError: Bad argument number for Name: 3, expecting 4
WARNING:tensorflow:Entity <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f564860>> could not be transformed and will be executed as-is. Please report this to the AutgoGraph team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output. Cause: converting <bound method Dense.call of <tensorflow.python.layers.core.Dense object at 0x7f808f564860>>: AssertionError: Bad argument number for Name: 3, expecting 4
12/05 15:24:42 model parameters (30)
12/05 15:24:42   baseline_step:0 ()
12/05 15:24:42   decoder_nl/attention_code/U_a/kernel:0 (512, 128)
12/05 15:24:42   decoder_nl/attention_code/W_a/bias:0 (128,)
12/05 15:24:42   decoder_nl/attention_code/W_a/kernel:0 (256, 128)
12/05 15:24:42   decoder_nl/attention_code/v_a:0 (128,)
12/05 15:24:42   decoder_nl/code/initial_state_projection/bias:0 (256,)
12/05 15:24:42   decoder_nl/code/initial_state_projection/kernel:0 (256, 256)
12/05 15:24:42   decoder_nl/gru_cell/candidate/bias:0 (256,)
12/05 15:24:42   decoder_nl/gru_cell/candidate/kernel:0 (1024, 256)
12/05 15:24:42   decoder_nl/gru_cell/gates/bias:0 (512,)
12/05 15:24:42   decoder_nl/gru_cell/gates/kernel:0 (1024, 512)
12/05 15:24:42   decoder_nl/maxout/bias:0 (256,)
12/05 15:24:42   decoder_nl/maxout/kernel:0 (1024, 256)
12/05 15:24:42   decoder_nl/softmax0/kernel:0 (128, 256)
12/05 15:24:42   decoder_nl/softmax1/bias:0 (30000,)
12/05 15:24:42   decoder_nl/softmax1/kernel:0 (256, 30000)
12/05 15:24:42   embedding_code:0 (30000, 256)
12/05 15:24:42   embedding_nl:0 (30000, 256)
12/05 15:24:42   encoder_code/initial_state_bw:0 (256,)
12/05 15:24:42   encoder_code/initial_state_fw:0 (256,)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/candidate/bias:0 (256,)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/candidate/kernel:0 (512, 256)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/gates/bias:0 (512,)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/gates/kernel:0 (512, 512)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/candidate/bias:0 (256,)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/candidate/kernel:0 (512, 256)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/gates/bias:0 (512,)
12/05 15:24:42   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/gates/kernel:0 (512, 512)
12/05 15:24:42   global_step:0 ()
12/05 15:24:42   learning_rate:0 ()
12/05 15:24:42 number of parameters: 25.11M
WARNING:tensorflow:From /root/icpc/icpc/translate/translation_model.py:666: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

12/05 15:24:42 reading model parameters from models/hybrid/checkpoints/translate-32000
WARNING:tensorflow:From /root/.local/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
12/05 15:24:43 retrieved parameters (30)
12/05 15:24:43   baseline_step:0 ()
12/05 15:24:43   decoder_nl/attention_code/U_a/kernel:0 (512, 128)
12/05 15:24:43   decoder_nl/attention_code/W_a/bias:0 (128,)
12/05 15:24:43   decoder_nl/attention_code/W_a/kernel:0 (256, 128)
12/05 15:24:43   decoder_nl/attention_code/v_a:0 (128,)
12/05 15:24:43   decoder_nl/code/initial_state_projection/bias:0 (256,)
12/05 15:24:43   decoder_nl/code/initial_state_projection/kernel:0 (256, 256)
12/05 15:24:43   decoder_nl/gru_cell/candidate/bias:0 (256,)
12/05 15:24:43   decoder_nl/gru_cell/candidate/kernel:0 (1024, 256)
12/05 15:24:43   decoder_nl/gru_cell/gates/bias:0 (512,)
12/05 15:24:43   decoder_nl/gru_cell/gates/kernel:0 (1024, 512)
12/05 15:24:43   decoder_nl/maxout/bias:0 (256,)
12/05 15:24:43   decoder_nl/maxout/kernel:0 (1024, 256)
12/05 15:24:43   decoder_nl/softmax0/kernel:0 (128, 256)
12/05 15:24:43   decoder_nl/softmax1/bias:0 (30000,)
12/05 15:24:43   decoder_nl/softmax1/kernel:0 (256, 30000)
12/05 15:24:43   embedding_code:0 (30000, 256)
12/05 15:24:43   embedding_nl:0 (30000, 256)
12/05 15:24:43   encoder_code/initial_state_bw:0 (256,)
12/05 15:24:43   encoder_code/initial_state_fw:0 (256,)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/candidate/bias:0 (256,)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/candidate/kernel:0 (512, 256)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/gates/bias:0 (512,)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/bw/gru_cell/gates/kernel:0 (512, 512)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/candidate/bias:0 (256,)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/candidate/kernel:0 (512, 256)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/gates/bias:0 (512,)
12/05 15:24:43   encoder_code/stack_bidirectional_rnn/cell_0/bidirectional_rnn/fw/gru_cell/gates/kernel:0 (512, 512)
12/05 15:24:43   global_step:0 ()
12/05 15:24:43   learning_rate:0 ()
12/05 15:24:43 global step: 32000
12/05 15:24:44 baseline step: 0
12/05 15:24:44 reading training data
12/05 15:24:44 total line count: 434231
12/05 15:24:47   lines read: 100000
12/05 15:24:51   lines read: 200000
12/05 15:24:55   lines read: 300000
12/05 15:24:59   lines read: 400000
12/05 15:25:00 files: data/codenn/train.code data/codenn/train.nl
12/05 15:25:00 lines reads: 434231
12/05 15:25:00 reading development data
12/05 15:25:03 files: data/codenn/test.code data/codenn/test.nl
12/05 15:25:03 lines reads: 51568
12/05 15:25:04 starting training
12/05 17:08:28 step 34000 epoch 6 learning rate 0.407 step-time 3.098 loss 26.744
12/05 17:08:28 starting evaluation
12/05 18:30:59 test bleu=15.26 loss=41.47 penalty=0.918 ratio=0.922
12/05 18:30:59 saving model to models/hybrid/checkpoints
12/05 18:30:59 finished saving model
12/05 18:30:59 inconsistent scores.txt file
12/05 20:14:04 step 36000 epoch 6 learning rate 0.407 step-time 3.089 loss 27.137
12/05 20:14:04 starting evaluation
12/05 21:29:00 test bleu=14.83 loss=41.00 penalty=0.826 ratio=0.840
12/05 21:29:00 saving model to models/hybrid/checkpoints
WARNING:tensorflow:From /root/.local/lib/python3.6/site-packages/tensorflow/python/training/saver.py:960: remove_checkpoint (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to delete files with this prefix.
12/05 21:29:00 finished saving model
12/05 21:29:00 inconsistent scores.txt file
12/05 23:12:09 step 38000 epoch 6 learning rate 0.407 step-time 3.090 loss 26.987
12/05 23:12:09 starting evaluation
12/06 00:33:14 test bleu=15.78 loss=40.43 penalty=0.935 ratio=0.937
12/06 00:33:14 saving model to models/hybrid/checkpoints
12/06 00:33:14 finished saving model
12/06 00:33:14 inconsistent scores.txt file
12/06 01:13:49   decaying learning rate to: 0.387
12/06 02:33:41 step 40000 epoch 6 learning rate 0.387 step-time 3.609 loss 25.744
12/06 02:33:41 starting evaluation
12/06 05:31:21 test bleu=16.35 loss=41.47 penalty=0.961 ratio=0.961
12/06 05:31:21 saving model to models/hybrid/checkpoints
12/06 05:31:22 finished saving model
12/06 05:31:22 inconsistent scores.txt file
12/06 05:31:22 new best model
12/06 09:07:30 step 42000 epoch 7 learning rate 0.387 step-time 6.479 loss 25.071
12/06 09:07:30 starting evaluation
12/06 11:44:39 test bleu=15.83 loss=41.10 penalty=0.890 ratio=0.896
12/06 11:44:39 saving model to models/hybrid/checkpoints
12/06 11:44:40 finished saving model
12/06 11:44:40 inconsistent scores.txt file
12/06 15:18:28 step 44000 epoch 7 learning rate 0.387 step-time 6.409 loss 25.245
12/06 15:18:28 starting evaluation
12/06 18:03:27 test bleu=16.23 loss=40.53 penalty=0.895 ratio=0.900
12/06 18:03:28 saving model to models/hybrid/checkpoints
12/06 18:03:29 finished saving model
12/06 18:03:29 inconsistent scores.txt file
12/06 20:55:04   decaying learning rate to: 0.368
12/06 21:41:28 step 46000 epoch 7 learning rate 0.368 step-time 6.535 loss 24.941
12/06 21:41:28 starting evaluation
12/07 00:31:33 test bleu=17.18 loss=41.27 penalty=0.912 ratio=0.915
12/07 00:31:33 saving model to models/hybrid/checkpoints
12/07 00:31:34 finished saving model
12/07 00:31:34 inconsistent scores.txt file
12/07 00:31:34 new best model
12/07 04:08:40 step 48000 epoch 8 learning rate 0.368 step-time 6.508 loss 23.310
12/07 04:08:40 starting evaluation
12/07 07:14:36 test bleu=16.22 loss=41.56 penalty=0.983 ratio=0.984
12/07 07:14:36 saving model to models/hybrid/checkpoints
12/07 07:14:36 finished saving model
12/07 07:14:36 inconsistent scores.txt file
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
WARNING:tensorflow:From /root/icpc/icpc/translate/rnn.py:107: The name tf.nn.rnn_cell.RNNCell is deprecated. Please use tf.compat.v1.nn.rnn_cell.RNNCell instead.

WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:30: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

usage: __main__.py [-h] [-v] [--debug] [--reset] [--reset-learning-rate]
                   [--learning-rate LEARNING_RATE] [--purge] [--crash-test]
                   [--decode [DECODE [DECODE ...]]]
                   [--align [ALIGN [ALIGN ...]]] [--eval [EVAL [EVAL ...]]]
                   [--train] [--save] [--gpu-id GPU_ID] [--no-gpu]
                   [--beam-size BEAM_SIZE]
                   [--len-normalization LEN_NORMALIZATION] [--ensemble]
                   [--average] [--checkpoints CHECKPOINTS [CHECKPOINTS ...]]
                   [--output OUTPUT] [--max-steps MAX_STEPS]
                   [--max-test-size MAX_TEST_SIZE] [--remove-unk]
                   [--raw-output] [--pred-edits] [--model-dir MODEL_DIR]
                   [--batch-size BATCH_SIZE] [--no-fix] [--max-len MAX_LEN]
                   [--max-input-len MAX_INPUT_LEN]
                   [--max-output-len MAX_OUTPUT_LEN] [--unk-replace]
                   [--lexicon LEXICON] [--temperature TEMPERATURE]
                   [--attn-temperature ATTN_TEMPERATURE]
                   [--align-encoder-id ALIGN_ENCODER_ID] [--tf-seed TF_SEED]
                   [--seed SEED] [--reverse]
                   [--parallel-iterations PARALLEL_ITERATIONS]
                   config
__main__.py: error: unrecognized arguments: config/10-folds/10_fold/sbt/train.log
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/.local/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/.local/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
WARNING:tensorflow:From /root/icpc/icpc/translate/rnn.py:107: The name tf.nn.rnn_cell.RNNCell is deprecated. Please use tf.compat.v1.nn.rnn_cell.RNNCell instead.

WARNING:tensorflow:From /root/icpc/icpc/translate/models.py:30: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

usage: __main__.py [-h] [-v] [--debug] [--reset] [--reset-learning-rate]
                   [--learning-rate LEARNING_RATE] [--purge] [--crash-test]
                   [--decode [DECODE [DECODE ...]]]
                   [--align [ALIGN [ALIGN ...]]] [--eval [EVAL [EVAL ...]]]
                   [--train] [--save] [--gpu-id GPU_ID] [--no-gpu]
                   [--beam-size BEAM_SIZE]
                   [--len-normalization LEN_NORMALIZATION] [--ensemble]
                   [--average] [--checkpoints CHECKPOINTS [CHECKPOINTS ...]]
                   [--output OUTPUT] [--max-steps MAX_STEPS]
                   [--max-test-size MAX_TEST_SIZE] [--remove-unk]
                   [--raw-output] [--pred-edits] [--model-dir MODEL_DIR]
                   [--batch-size BATCH_SIZE] [--no-fix] [--max-len MAX_LEN]
                   [--max-input-len MAX_INPUT_LEN]
                   [--max-output-len MAX_OUTPUT_LEN] [--unk-replace]
                   [--lexicon LEXICON] [--temperature TEMPERATURE]
                   [--attn-temperature ATTN_TEMPERATURE]
                   [--align-encoder-id ALIGN_ENCODER_ID] [--tf-seed TF_SEED]
                   [--seed SEED] [--reverse]
                   [--parallel-iterations PARALLEL_ITERATIONS]
                   config
__main__.py: error: unrecognized arguments: config/sperate/codenn/train.log
